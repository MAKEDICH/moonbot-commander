# –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π MoonBot Commander

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π MoonBot Commander –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ª—é–±–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **–ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤**: `.env`, –ë–î, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞** –∫ –ª—é–±–æ–º—É –±—ç–∫–∞–ø—É
- **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏** - –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –±–µ–∑ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π

### üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ–≤–µ—Ä—Å–∏–æ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏–π "10 —à—Ç—É–∫ –Ω–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### üñ•Ô∏è –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–û–±–Ω–æ–≤–ª–µ–Ω–∏—è"** –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é
2. –ù–∞–∂–º–∏—Ç–µ **"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"**
3. –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –Ω–∞–∂–º–∏—Ç–µ **"–û–±–Ω–æ–≤–∏—Ç—å –¥–æ v.X.X.X"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, –±—ç–∫–∞–ø)
5. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å"**
6. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ß–µ—Ä–µ–∑ –±–∞—Ç–Ω–∏–∫ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```bash
# Windows
UPDATE-SAFE.bat

# Linux
./linux/update.sh
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
backend/services/updates/
‚îú‚îÄ‚îÄ __init__.py              # –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ update_manager.py        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ versioned_migration.py   # –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
‚îî‚îÄ‚îÄ safe_executor.py         # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/updates/check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |
| GET | `/api/updates/versions` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π |
| GET | `/api/updates/status` | –°—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| POST | `/api/updates/prepare` | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| POST | `/api/updates/execute` | –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| POST | `/api/updates/rollback` | –û—Ç–∫–∞—Ç–∏—Ç—å –∫ –±—ç–∫–∞–ø—É |
| GET | `/api/updates/backups` | –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤ |

### –°–∫—Ä–∏–ø—Ç—ã

- `auto-updater.bat` - Windows —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `auto-updater.sh` - Linux —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å   ‚îÇ
‚îÇ  –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ prepare_update  ‚îÇ ‚Üê –°–∫–∞—á–∏–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞, –±—ç–∫–∞–ø
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ execute_update  ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  auto-updater   ‚îÇ ‚Üê –í–Ω–µ—à–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
‚îÇ    —Å–∫—Ä–∏–ø—Ç       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ         ‚îÇ
    ‚ñº         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ñ–¥—ë—Ç  ‚îÇ ‚îÇ –ö–æ–ø–∏—Ä—É–µ—Ç  ‚îÇ
‚îÇ–∑–∞–≤–µ—Ä- ‚îÇ ‚îÇ  —Ñ–∞–π–ª—ã    ‚îÇ
‚îÇ—à–µ–Ω–∏—è  ‚îÇ ‚îÇ           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ  –ú–∏–≥—Ä–∞—Ü–∏–∏    ‚îÇ
         ‚îÇ     –ë–î       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫   ‚îÇ
         ‚îÇ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è   ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ö–∞–∂–¥–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
# –ü—Ä–∏–º–µ—Ä: –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è v2.1.2
Migration(
    version="2.1.2",
    name="add_default_currency",
    description="–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
    up=self._migrate_add_default_currency,
    check=lambda conn: not self._column_exists(conn, "servers", "default_currency"),
)
```

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å v1.0.0 –¥–æ v2.1.9:
1. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—Ç v1.0.0 –¥–æ v2.1.9
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∫–∏–µ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (—á–µ—Ä–µ–∑ `_migrations_registry`)
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

### –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–ö–∞–∂–¥–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω—É–∂–Ω–æ –ª–∏ –µ—ë –ø—Ä–∏–º–µ–Ω—è—Ç—å:
```python
check=lambda conn: not self._column_exists(conn, "servers", "default_currency")
```

–ï—Å–ª–∏ –∫–æ–ª–æ–Ω–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

## –û—Ç–∫–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–û–±–Ω–æ–≤–ª–µ–Ω–∏—è"**
2. –†–∞—Å–∫—Ä–æ–π—Ç–µ **"–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏"**
3. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–∫–∞—Ç–∏—Ç—å"** –Ω–∞–ø—Ä–æ—Ç–∏–≤ –Ω—É–∂–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í—Ä—É—á–Ω—É—é

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î –∏–∑ –±—ç–∫–∞–ø–∞
cp backups/pre_update_2.1.8_to_2.1.9_20251204_120000/moonbot_commander.db backend/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å .env
cp backups/pre_update_2.1.8_to_2.1.9_20251204_120000/.env backend/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VERSION.txt
cp backups/pre_update_2.1.8_to_2.1.9_20251204_120000/VERSION.txt .
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª: `backend/config/updates.yaml`

```yaml
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
check:
  interval: 21600  # 6 —á–∞—Å–æ–≤

# –°–∫–æ–ª—å–∫–æ –±—ç–∫–∞–ø–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—å
backup:
  keep_count: 5

# –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
protected:
  files:
    - ".env"
    - "moonbot_commander.db"
```

## Troubleshooting

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitHub API
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `backend/updates/logs/migration.log`

### –û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

1. –ù–µ –ø–∞–Ω–∏–∫—É–π—Ç–µ - –±—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –û—Ç–∫–∞—Ç–∏—Ç–µ—Å—å –∫ –±—ç–∫–∞–ø—É —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –°–æ–æ–±—â–∏—Ç–µ –æ–± –æ—à–∏–±–∫–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: `LOCAL-START.bat` –∏–ª–∏ `./linux/local-start.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ auto-updater

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

1. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `versioned_migration.py`:
```python
def _migrate_add_new_field(self, conn: sqlite3.Connection) -> bool:
    cursor = conn.cursor()
    cursor.execute("ALTER TABLE table_name ADD COLUMN new_field TEXT")
    return True
```

2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:
```python
self._register_migration(Migration(
    version="2.2.0",
    name="add_new_field",
    description="–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è",
    up=self._migrate_add_new_field,
    check=lambda conn: not self._column_exists(conn, "table_name", "new_field"),
))
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –ø—Ä–æ–µ–∫—Ç–∞
2. –û—Ç–∫–∞—Ç–∏—Ç–µ VERSION.txt –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ


